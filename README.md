# AI Image Generator - Telegram Mini App

Telegram Mini App –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ Kie.ai API.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üé® **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ AI –º–æ–¥–µ–ª–µ–π**: NanoBanana, NanoBanana Pro, SeeDream 4, SeeDream 4.5
- üì± **Telegram Mini App**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram SDK
- üñº **–õ–µ–Ω—Ç–∞ —Ä–∞–±–æ—Ç (Feed)**: –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–±–æ—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –ª–∞–π–∫–∏ –∏ —Ä–µ–º–∏–∫—Å—ã
- üõ† **–°—Ç—É–¥–∏—è (Studio)**:
  - Text-to-Image –∏ Image-to-Image –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
  - –ì–∏–±–∫–∏–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ (1:1, 16:9, 9:16, 4:3 –∏ –¥—Ä.)
  - –í—ã–±–æ—Ä —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (2K/4K –¥–ª—è Pro –º–æ–¥–µ–ª–µ–π)
- üé° **–†—É–ª–µ—Ç–∫–∞ —Å –±–æ–Ω—É—Å–∞–º–∏ (Wheel of Fortune)**: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥
- üèÜ **–ö–æ–Ω–∫—É—Ä—Å—ã (Contests)**: –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∏ —Ç–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤
- üë• **–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞**: –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –±–æ–Ω—É—Å—ã
- üåì **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Frontend**: React 18, TypeScript, Vite, Tailwind CSS
- **Backend**: Node.js, Express, TypeScript
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: shadcn/ui (–∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- **State Management**: Zustand
- **Telegram SDK**: @twa-dev/sdk
- **AI API**: Kie.ai (OpenAI-compatible)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd ai-image-generator-tma
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pnpm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
cp .env.example .env
```

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `KIE_API_KEY` - API –∫–ª—é—á –æ—Ç Kie.ai
- `NODE_ENV` - –æ–∫—Ä—É–∂–µ–Ω–∏–µ (development/production)
- `PORT` - –ø–æ—Ä—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3000)

### 4. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
pnpm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:3000`

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üñ• –õ–µ–Ω—Ç–∞ (Feed)
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ –º–æ–¥–µ–ª—è–º –∏ —Å–æ—Ä—Ç–∏—Ä—É–π—Ç–µ (–ù–æ–≤–æ–µ/–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É **Use** –¥–ª—è —Ä–µ–º–∏–∫—Å–∞ (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫)

### üé® –°—Ç—É–¥–∏—è (Studio)
1. **–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏**: NanoBanana (–±—ã—Å—Ç—Ä–æ), SeeDream (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ) –∏ –∏—Ö Pro –≤–µ—Ä—Å–∏–∏.
2. **–†–µ–∂–∏–º**: Text-to-Image –∏–ª–∏ Image-to-Image.
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã (drag & drop –∏–ª–∏ paste).
4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è**: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —á–∞—Ç.

### üé° –†—É–ª–µ—Ç–∫–∞ –∏ –ö–æ–Ω–∫—É—Ä—Å—ã
- –ò—Å–ø—ã—Ç—ã–≤–∞–π—Ç–µ —É–¥–∞—á—É –≤ —Ä—É–ª–µ—Ç–∫–µ —Ä–∞–∑ –≤ –¥–µ–Ω—å.
- –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É "Contests", –∑–∞–≥—Ä—É–∂–∞—è —Å–≤–æ–∏ –ª—É—á—à–∏–µ —Ä–∞–±–æ—Ç—ã –ø–æ —Ç–µ–º–µ.

## API Endpoints

### POST /api/generation/generate

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Kie.ai API

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "prompt": "a beautiful sunset over mountains",
  "model": "seedream4",
  "aspect_ratio": "16:9",
  "user_id": 123456789,
  "images": ["base64_string"] // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è img2img
}
```

### GET /api/feed

–ü–æ–ª—É—á–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `limit`: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `offset`: —Å–º–µ—â–µ–Ω–∏–µ
- `sort`: 'new' –∏–ª–∏ 'popular'
- `model`: —Ñ–∏–ª—å—Ç—Ä –ø–æ –º–æ–¥–µ–ª–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ components/          # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã (Home, Studio, SpinPage, Contests –∏ –¥—Ä.)
‚îú‚îÄ‚îÄ hooks/              # Custom hooks (useTelegram, useGenerationStore)
‚îú‚îÄ‚îÄ store/              # Zustand state stores
‚îî‚îÄ‚îÄ api/                # API controllers & routes
```

## –î–µ–ø–ª–æ–π

### Railway (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å.
2. `railway init`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`KIE_API_KEY`, `NODE_ENV=production`).
4. `railway up`

–¢–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–µ–ø–ª–æ–π –Ω–∞ Vercel –∏–ª–∏ –ª—é–±–æ–π Node.js —Ö–æ—Å—Ç–∏–Ω–≥.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
